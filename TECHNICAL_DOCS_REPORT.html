
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Exchange Rate Dashboard - æŠ€æœ¯æ¶æ„æ–‡æ¡£</title>
    <style>
        @page {
            size: A4;
            margin: 1.5cm; /* ç¨å¾®å‡å°é¡µè¾¹è·ï¼Œå®¹çº³æ›´å¤šå†…å®¹ */
        }
        body {
            font-family: "Microsoft YaHei", "Segoe UI", sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
            background: #fff;
        }
        h1 { 
            color: #1565C0; 
            border-bottom: 2px solid #E3F2FD; 
            padding-bottom: 15px; 
            margin-bottom: 30px; 
            text-align: center;
        }
        h2 { 
            color: #2E7D32; 
            margin-top: 30px; 
            border-left: 5px solid #2E7D32; 
            padding-left: 15px; 
            font-size: 1.5em; 
            page-break-after: avoid; /* é¿å…æ ‡é¢˜å’Œå†…å®¹åˆ†ç¦» */
            break-after: avoid;
        }
        h3 { 
            color: #EF6C00; 
            margin-top: 25px; 
            font-size: 1.2em; 
            page-break-after: avoid; /* é¿å…æ ‡é¢˜å’Œå†…å®¹åˆ†ç¦» */
            break-after: avoid;
        }
        p { 
            margin-bottom: 10px; 
            text-align: justify; 
            color: #555; 
        }
        
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 20px 0; 
            box-shadow: none; 
            border: 1px solid #ddd;
            page-break-inside: avoid; /* é¿å…è¡¨æ ¼è·¨é¡µæ–­è£‚ */
        }
        th, td { 
            border: 1px solid #ddd; 
            padding: 10px 12px; 
            text-align: left; 
            font-size: 0.95em;
        }
        th { background-color: #f8f9fa; color: #333; font-weight: bold; }

        .diagram-container {
            text-align: center;
            margin: 30px auto;
            padding: 10px;
            page-break-inside: avoid; /* å…³é”®ï¼šé¿å…å›¾ç‰‡å’Œè¯´æ˜æ–‡å­—åˆ†å¼€ï¼Œæˆ–è€…å›¾ç‰‡è¢«åˆ‡æ–­ */
            break-inside: avoid;
            max-width: 95%;
        }
        .diagram-container img {
            max-width: 100%;
            max-height: 22cm; /* é™åˆ¶æœ€å¤§é«˜åº¦ï¼Œé˜²æ­¢å•å›¾æ’‘çˆ†ä¸€é¡µ */
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .caption {
            margin-top: 10px;
            font-size: 0.9em;
            color: #666;
            font-weight: bold;
            font-style: italic;
        }
        
        code { 
            background: #f5f5f5; 
            padding: 2px 5px; 
            border-radius: 3px; 
            font-family: Consolas, monospace; 
            color: #d32f2f; 
            font-size: 0.9em;
        }
        
        /* ä¸“é—¨é’ˆå¯¹æ‰“å°çš„ä¼˜åŒ– */
        @media print {
            body { 
                padding: 0; 
                margin: 0; 
                font-size: 11pt; 
            }
            h2 {
                margin-top: 40px; /* æ‰“å°æ—¶å¢åŠ æ®µå‰è·ï¼ŒåŒºåˆ†æ›´æ˜æ˜¾ */
            }
            .diagram-container {
                margin: 20px auto;
            }
            /* å¼ºåˆ¶æ¯ä¸ªä¸»è¦ç« èŠ‚ï¼ˆh2ï¼‰å‰å¦‚æœç©ºé—´ä¸è¶³åˆ™æ¢é¡µï¼Œè¿™é‡Œä¸åšå¼ºåˆ¶æ¢é¡µï¼Œä¾é æµè§ˆå™¨çš„æ™ºèƒ½åˆ†é¡µï¼Œä½†é¿å…å­¤å„¿è¡Œ */
            h2, h3, .caption {
                orphans: 3;
                widows: 3;
            }
        }
    </style>
</head>
<body>

    <h1>ğŸ“˜ Exchange Rate Dashboard - æŠ€æœ¯æ¶æ„æ–‡æ¡£</h1>
    <p><strong>ç‰ˆæœ¬:</strong> 1.3 | <strong>æ—¥æœŸ:</strong> 2025-12-16</p>

    <h2>1. ç³»ç»Ÿæ¦‚è§ˆ (System Overview)</h2>
    <p>æœ¬é¡¹ç›®é‡‡ç”¨ <strong>MVT (Model-View-Template)</strong> æ¶æ„æ¨¡å¼ï¼Œç»“åˆ <strong>HTMX</strong> å®ç°ç°ä»£åŒ–çš„å‰åç«¯äº¤äº’ã€‚</p>
    <ul>
        <li><strong>Model (æ•°æ®å±‚)</strong>: ä½¿ç”¨æœ¬åœ° JSON æ–‡ä»¶ä½œä¸ºè½»é‡çº§æ•°æ®åº“ã€‚</li>
        <li><strong>View (è§†å›¾å±‚)</strong>: FastAPI è·¯ç”±å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</li>
        <li><strong>Template (æ¨¡æ¿å±‚)</strong>: Jinja2 æœåŠ¡ç«¯æ¸²æŸ“ã€‚</li>
        <li><strong>Client (å®¢æˆ·ç«¯)</strong>: HTMX å±€éƒ¨åˆ·æ–° + Chart.js å¯è§†åŒ–ã€‚</li>
    </ul>

    <h3>1.2 æŠ€æœ¯æ ˆå›¾è°±</h3>
    <table>
        <tr><th>å±‚çº§</th><th>æŠ€æœ¯é€‰å‹</th><th>è¯´æ˜</th></tr>
        <tr><td>Web æ¡†æ¶</td><td>FastAPI</td><td>é«˜æ€§èƒ½å¼‚æ­¥ Python Web æ¡†æ¶</td></tr>
        <tr><td>å‰ç«¯äº¤äº’</td><td>HTMX</td><td>å£°æ˜å¼ AJAXï¼Œå‡å°‘ JS ç¼–å†™</td></tr>
        <tr><td>UI æ¡†æ¶</td><td>Bootstrap 5</td><td>å“åº”å¼æ …æ ¼ç³»ç»Ÿ</td></tr>
        <tr><td>æ•°æ®å­˜å‚¨</td><td>JSON</td><td>æœ¬åœ°æ–‡ä»¶å­˜å‚¨</td></tr>
    </table>

    <h2>2. ç³»ç»Ÿæ¶æ„å›¾ (System Architecture)</h2>
    <div class="diagram-container">
        <img src="docs_images/diagram_1.png" alt="System Architecture">
        <div class="caption">å›¾ 1: ç³»ç»Ÿæ•´ä½“æ¶æ„ä¸æ•°æ®æµå‘</div>
    </div>

    <h2>3. æ ¸å¿ƒæ¨¡å—è®¾è®¡ (Core Modules)</h2>
    
    <h3>3.1 æœåŠ¡å±‚ç±»å›¾</h3>
    <div class="diagram-container">
        <img src="docs_images/diagram_2.png" alt="Class Diagram">
        <div class="caption">å›¾ 2: ExchangeService ç±»ç»“æ„</div>
    </div>

    <h2>4. æ ¸å¿ƒä¸šåŠ¡æµç¨‹ (Business Workflows)</h2>

    <h3>4.1 å®æ—¶æ±‡ç‡è·å–æµç¨‹</h3>
    <div class="diagram-container">
        <img src="docs_images/diagram_3.png" alt="Sequence Diagram">
        <div class="caption">å›¾ 3: æ±‡ç‡è·å–ä¸ç¼“å­˜ç­–ç•¥æ—¶åºå›¾</div>
    </div>

    <h3>4.2 è´§å¸æ¢ç®—æµç¨‹</h3>
    <div class="diagram-container">
        <img src="docs_images/diagram_4.png" alt="Flowchart">
        <div class="caption">å›¾ 4: æ¢ç®—ä¸æ—¥å¿—è®°å½•æµç¨‹</div>
    </div>

    <h3>4.3 å›¾è¡¨åŠ è½½æµç¨‹</h3>
    <div class="diagram-container">
        <img src="docs_images/diagram_5.png" alt="Chart Sequence">
        <div class="caption">å›¾ 5: å†å²è¶‹åŠ¿å›¾è¡¨åŠ è½½æµç¨‹</div>
    </div>

    <h2>5. ç›®å½•ç»“æ„</h2>
    <pre style="background:#FAFAFA; padding:15px; border-radius:5px; border:1px solid #EEEEEE; font-family: Consolas;">
Exchange_rate_dashboard/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py              # [Controller]
â”‚   â””â”€â”€ services/            # [Service]
â”œâ”€â”€ data/                    # [Database]
â”œâ”€â”€ static/                  # [Assets]
â””â”€â”€ templates/               # [View]
    </pre>

</body>
</html>
